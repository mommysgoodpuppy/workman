type ParseError = Missing | BadDigit;

let parseMaybe = match(flag) => {
  true => { IOk(41) },
  false => { IErr(Missing) }
};

let addOne = (value) => {
  value + 1
};

let stripErr = match(result) => {
  IOk(value) => { value },
  IErr(_) => { 0 }
};

export let okFlow = () => {
  addOne(parseMaybe(true))
};

export let missingFlow = () => {
  addOne(parseMaybe(false))
};

export let badFlow = () => {
  addOne(IErr(BadDigit))
};

export let stripped = () => {
  stripErr(parseMaybe(false))
};

