from "std/result" import { map, mapError, andThen, withDefault, fold };

export let defaultOk = () => {
  withDefault(0, IOk(5))
};

export let foldOk = () => {
  fold(
    (err) => {
      err
    },
    (val) => {
      add(val, 1)
    },
    IOk(9)
  )
};

export let foldErr = () => {
  fold(
    (err) => {
      add(err, 1)
    },
    (val) => {
      val
    },
    IErr(3)
  )
};

export let mapChain = () => {
  let base = IOk(7);
  let mapped = map(
    (n) => {
      add(n, 1)
    },
    base
  );
  let chained = andThen(
    (n) => {
      IOk(add(n, n))
    },
    mapped
  );
  withDefault(0, chained)
};

export let remapError = () => {
  mapError(
    (n) => {
      add(n, 5)
    },
    IErr(2)
  )
};
